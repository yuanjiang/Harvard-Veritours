/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-align",function(e,t){function c(e){}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")},_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stack",function(e,t){function O(e){}var n=e.Lang,r=e.UA,i=e.Node,s=e.Widget,o="zIndex",u="shim",a="visible",f="boundingBox",l="renderUI",c="bindUI",h="syncUI",p="offsetWidth",d="offsetHeight",v="parentNode",m="firstChild",g="ownerDocument",y="width",b="height",w="px",E="shimdeferred",S="shimresize",x="visibleChange",T="widthChange",N="heightChange",C="shimChange",k="zIndexChange",L="contentUpdate",A="stacked";O.ATTRS={shim:{value:r.ie==6},zIndex:{value:0,setter:"_setZIndex"}},O.HTML_PARSER={zIndex:function(e){return this._parseZIndex(e)}},O.SHIM_CLASS_NAME=s.getClassName(u),O.STACKED_CLASS_NAME=s.getClassName(A),O.SHIM_TEMPLATE='<iframe class="'+O.SHIM_CLASS_NAME+'" frameborder="0" title="Widget Stacking Shim" src="javascript:false" tabindex="-1" role="presentation"></iframe>',O.prototype={initializer:function(){this._stackNode=this.get(f),this._stackHandles={},e.after(this._renderUIStack,this,l),e.after(this._syncUIStack,this,h),e.after(this._bindUIStack,this,c)},_syncUIStack:function(){this._uiSetShim(this.get(u)),this._uiSetZIndex(this.get(o))},_bindUIStack:function(){this.after(C,this._afterShimChange),this.after(k,this._afterZIndexChange)},_renderUIStack:function(){this._stackNode.addClass(O.STACKED_CLASS_NAME)},_parseZIndex:function(e){var t;return!e.inDoc()||e.getStyle("position")==="static"?t="auto":t=e.getComputedStyle("zIndex"),t==="auto"?null:t},_setZIndex:function(e){return n.isString(e)&&(e=parseInt(e,10)),n.isNumber(e)||(e=0),e},_afterShimChange:function(e){this._uiSetShim(e.newVal)},_afterZIndexChange:function(e){this._uiSetZIndex(e.newVal)},_uiSetZIndex:function(e){this._stackNode.setStyle(o,e)},_uiSetShim:function(e){e?(this.get(a)?this._renderShim():this._renderShimDeferred(),r.ie==6&&this._addShimResizeHandlers()):this._destroyShim()},_renderShimDeferred:function(){this._stackHandles[E]=this._stackHandles[E]||[];var e=this._stackHandles[E],t=function(e){e.newVal&&this._renderShim()};e.push(this.on(x,t))},_addShimResizeHandlers:function(){this._stackHandles[S]=this._stackHandles[S]||[];var e=this.sizeShim,t=this._stackHandles[S];t.push(this.after(x,e)),t.push(this.after(T,e)),t.push(this.after(N,e)),t.push(this.after(L,e))},_detachStackHandles:function(e){var t=this._stackHandles[e],n;if(t&&t.length>0)while(n=t.pop())n.detach()},_renderShim:function(){var e=this._shimNode,t=this._stackNode;e||(e=this._shimNode=this._getShimTemplate(),t.insertBefore(e,t.get(m)),this._detachStackHandles(E),this.sizeShim())},_destroyShim:function(){this._shimNode&&(this._shimNode.get(v).removeChild(this._shimNode),this._shimNode=null,this._detachStackHandles(E),this._detachStackHandles(S))},sizeShim:function(){var e=this._shimNode,t=this._stackNode;e&&r.ie===6&&this.get(a)&&(e.setStyle(y,t.get(p)+w),e.setStyle(b,t.get(d)+w))},_getShimTemplate:function(){return i.create(O.SHIM_TEMPLATE,this._stackNode.get(g))}},e.WidgetStack=O},"3.11.0",{requires:["base-build","widget"],skinnable:!0});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-constrain",function(e,t){function m(e){}var n="constrain",r="constrain|xyChange",i="constrainChange",s="preventOverlap",o="align",u="",a="bindUI",f="xy",l="x",c="y",h=e.Node,p="viewportRegion",d="region",v;m.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}},v=m._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}},m.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added"),e.after(this._bindUIPosConstrained,this,a)},getConstrainedXY:function(e,t){t=t||this.get(n);var r=this._getRegion(t===!0?null:t),i=this._posNode.get(d);return[this._constrain(e[0],l,i,r),this._constrain(e[1],c,i,r)]},constrain:function(e,t){var r,i,s=t||this.get(n);s&&(r=e||this.get(f),i=this.getConstrainedXY(r,s),(i[0]!==r[0]||i[1]!==r[1])&&this.set(f,i,{constrained:!0}))},_setConstrain:function(e){return e===!0?e:h.one(e)},_constrain:function(e,t,n,r){if(r){this.get(s)&&(e=this._preventOverlap(e,t,n,r));var i=t==l,o=i?r.width:r.height,u=i?n.width:n.height,a=i?r.left:r.top,f=i?r.right-u:r.bottom-u;if(e<a||e>f)u<o?e<a?e=a:e>f&&(e=f):e=a}return e},_preventOverlap:function(e,t,n,r){var i=this.get(o),s=t===l,a,f,c,h,p,d;return i&&i.points&&v[t][i.points.join(u)]&&(f=this._getRegion(i.node),f&&(a=s?n.width:n.height,c=s?f.left:f.top,h=s?f.right:f.bottom,p=s?f.left-r.left:f.top-r.top,d=s?r.right-f.right:r.bottom-f.bottom),e>c?d<a&&p>a&&(e=c-a):p<a&&d>a&&(e=h)),e},_bindUIPosConstrained:function(){this.after(i,this._afterConstrainChange),this._enableConstraints(this.get(n))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(e){e?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on(r,this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(e){e.constrained||(e.newVal=this.getConstrainedXY(e.newVal))},_getRegion:function(e){var t;return e?(e=h.one(e),e&&(t=e.get(d))):t=this._posNode.get(p),t}},e.WidgetPositionConstrain=m},"3.11.0",{requires:["widget-position"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.11.0",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});
YUI.add("gallery-popover",function(c){var v="boundingBox",l="contentBox",b="tl",p="t",a="tr",h="rt",k="r",t="rb",u="br",i="b",o="bl",d="lb",m="l",f="lt",w=27,e=50,q=28,s=18;var n={initializer:function(){},bindUI:function(){this.after("arrowPositionChange",function(y){this._arrow.removeClass(this.getClassName("arrow",y.prevVal));this._arrowMask.removeClass(this.getClassName("arrow","mask",y.prevVal));this._arrow.addClass(this.getClassName("arrow",y.newVal));this._arrowMask.addClass(this.getClassName("arrow","mask",y.newVal))})},renderUI:function(){this._arrow=c.Node.create('<span class="'+this.getClassName("arrow")+'">â—£</span>');this._arrowMask=c.Node.create('<span class="'+this.getClassName("arrow","mask")+'"></span>');this.get(v).append(this._arrow).append(this._arrowMask);var y=this.get("arrowPosition");this._arrow.addClass(this.getClassName("arrow",y));this._arrowMask.addClass(this.getClassName("arrow","mask",y));if(c.UA.webkit&&c.UA.os==="windows"){this._arrow.addClass("win-webkit");this._arrow.addClass(c.UA.chrome?"win-chrome":"win-safari")}else{if(c.UA.gecko&&c.UA.os==="windows"){this._arrow.addClass("win-gecko");this._arrow.addClass("win-firefox");if(c.UA.gecko>=1.9&&c.UA.gecko<2){this._arrow.addClass("win-firefox-3")}}}},syncUI:function(){},alignToElement:function(A,N){var z,B,K,M,C,I,D=this.get("arrowPosition"),y,H,J,G,L;if(this.get("showSquare")){s=8}switch(D){case b:z=[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.BC];B={x:-q,y:s};break;case p:z=[c.WidgetPositionAlign.TC,c.WidgetPositionAlign.BC];B={x:0,y:s};break;case a:z=[c.WidgetPositionAlign.TR,c.WidgetPositionAlign.BC];B={x:q,y:s};break;case h:z=[c.WidgetPositionAlign.TR,c.WidgetPositionAlign.LC];B={x:-s,y:-q};break;case k:z=[c.WidgetPositionAlign.RC,c.WidgetPositionAlign.LC];B={x:-s,y:0};break;case t:z=[c.WidgetPositionAlign.BR,c.WidgetPositionAlign.LC];B={x:-s,y:q};break;case u:z=[c.WidgetPositionAlign.BR,c.WidgetPositionAlign.TC];B={x:q,y:-s};break;case i:z=[c.WidgetPositionAlign.BC,c.WidgetPositionAlign.TC];B={x:0,y:-s};break;case o:z=[c.WidgetPositionAlign.BL,c.WidgetPositionAlign.TC];B={x:-q,y:-s};break;case d:z=[c.WidgetPositionAlign.BL,c.WidgetPositionAlign.RC];B={x:s,y:q};break;case m:z=[c.WidgetPositionAlign.LC,c.WidgetPositionAlign.RC];B={x:s,y:0};break;case f:z=[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.RC];B={x:s,y:-q}}x(this._arrow);x(this._arrowMask);this.align(A,z);K=this._posNode.get("region");M=[K.left+B.x,K.top+B.y];this.move(M);if(N){this.constrain(null,N);K=this._posNode.get("region");C=[K.left,K.top];if(D===b||D===p||D===a||D===o||D===i||D===u){if(M[0]!==C[0]){I=M[0]-C[0];this._arrow.setX(this._arrow.getX());this._arrow.setStyle("right","auto");y=this._arrow.getX()+I;if(y+w>K.right){y=K.right-w}else{if(y<K.left){y=K.left}}this._arrow.setX(y);this._arrowMask.setX(this._arrowMask.getX());this._arrowMask.setStyle("right","auto");H=this._arrowMask.getX()+I;if(H+e>K.right){H=K.right-e}else{if(H<K.left){H=K.left}}this._arrowMask.setX(H)}if(M[1]!==C[1]){I=M[1]-C[1];K=this._posNode.get("region");M=[K.left,K.top+I];this.move(M)}}else{if(D===f||D===m||D===d||D===h||D===k||D===t){if(M[1]!==C[1]){I=M[1]-C[1];this._arrow.setY(this._arrow.getY());this._arrow.setStyle("bottom","auto");J=this._arrow.getY()+I;if(J+w>K.bottom){J=K.bottom-w}else{if(J<K.top){J=K.top}}this._arrow.setY(J);this._arrowMask.setY(this._arrowMask.getY());this._arrowMask.setStyle("bottom","auto");G=this._arrowMask.getY()+I;if(G+e>K.bottom){G=K.bottom-e}else{if(G<K.top){G=K.top}}this._arrowMask.setY(J)}if(M[0]!==C[0]){I=M[0]-C[0];K=this._posNode.get("region");M=[K.left+I,K.top];this.move(M)}}}}if(!this._positionMarkerNode){this._positionMarkerNode=c.DOM.create('<div class="popover-position-marker"></div>');c.one("body").append(this._positionMarkerNode)}if(this.get("arrowPosition")==="br"&&this.get("accordian")){this.get("srcNode").getDOMNode().parentNode.style.bottom=""}c.DOM.setXY(this._positionMarkerNode,this._posNode.get("region"));this.align(this._positionMarkerNode,[c.WidgetPositionAlign.TL,c.WidgetPositionAlign.BL]);if(this.get("arrowPosition")==="br"){var E=this;if(!this.get("isRefresh")||!this.get("refreshBottom")||!this.get("refreshRight")){j(E,A)}else{g(E,A)}}if(this.get("extraCSS")){this.get("srcNode").ancestor(".yui3-popover").addClass(this.get("extraCSS"))}}};var r={TOPLEFT:b,TOP:p,TOPRIGHT:a,RIGHTTOP:h,RIGHT:k,RIGHTBOTTOM:t,BOTTOMRIGHT:u,BOTTOM:i,BOTTOMLEFT:o,LEFTBOTTOM:d,LEFT:m,LEFTTOP:f,CSS_PREFIX:"yui3-popover",ATTRS:{arrowPosition:{value:a,validator:function(y){return(y===b||y===p||y===a||y===o||y===i||y===u||y===f||y===m||y===d||y===h||y===k||y===t)}},accordian:{value:false,validator:function(y){return(typeof y==="boolean")}},isRefresh:{value:false},refreshBottom:{value:null},refreshRight:{value:null},extraCSS:{value:""},showSquare:{value:false}}};function x(y){y.setStyle("top","").setStyle("right","").setStyle("bottom","").setStyle("left","")}function j(z,y){(function(){var C=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(E){window.setTimeout(E,1000/60)}})();var D=function(E){return parseInt(E.replace("px",""),10)};var A=z.get("srcNode").getDOMNode();var B=A.parentNode;C(function(){if(!B.style.bottom){var G=D(B.style.top),E;E=310;B.style.bottom=(-1*G)-E+"px"}C(function(){B.style.top=""})})})()}function g(z,y){(function(){var C=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(E){window.setTimeout(E,1000/60)}})();var D=function(E){return parseInt(E.replace("px",""),10)};var A=z.get("srcNode").getDOMNode();var B=A.parentNode;B.style.display="none";C(function(){B.style.top="";B.style.left="";B.style.bottom=z.get("refreshBottom");B.style.right=z.get("refreshRight");C(function(){B.style.display="block"})})})()}c.Popover=c.Base.create("popover",c.Widget,[c.WidgetStdMod,c.WidgetPosition,c.WidgetStack,c.WidgetPositionAlign,c.WidgetPositionConstrain],n,r)},"0.0.1",{requires:F.config.modules["gallery-popover"].requires||[],optional:F.config.modules["gallery-popover"].optional||[]});YUI.add("focus-tracker",function(e){var a=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i;function b(){var g;try{g=e.one(document.activeElement)}catch(f){console.warn("Caught error from document.activeElement",f);return false}return g}function c(){var f=b(),g;if(!f){return false}g=f.get("tagName").toUpperCase();if(g==="INPUT"){return a.test(f.get("type"))}else{if(g==="TEXTAREA"||g==="SELECT"){return true}}}function d(){var f=b();if(f&&e.Lang.isFunction(f.blur)){try{f.blur()}catch(g){}}}e.focusTracker={get:b,isInput:c,blur:d}},"0.0.1",{requires:F.config.modules["focus-tracker"].requires||[],optional:F.config.modules["focus-tracker"].optional||[]});YUI.add("better-throttle",function(b){function a(h,f,i,e){var j,c;j=0;i=i||null;function k(){if(c){c.cancel();c=undefined}}function d(){k();h.apply(i,arguments)}function g(){var l=(new Date()).getTime();if(e){k()}else{if(l-j>f){j=l;d.apply(i,arguments);return}}if(!c){c=b.later(f,i,d,arguments)}}return g}b.betterThrottle=a},"0.0.1",{requires:[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dump",function(e,t){var n=e.Lang,r="{...}",i="f(){...}",s=", ",o=" => ",u=function(e,t){var u,a,f=[],l=n.type(e);if(!n.isObject(e))return e+"";if(l=="date")return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if(l=="function")return i;t=n.isNumber(t)?t:3;if(l=="array"){f.push("[");for(u=0,a=e.length;u<a;u+=1)n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s);f.length>1&&f.pop(),f.push("]")}else if(l=="regexp")f.push(e.toString());else{f.push("{");for(u in e)if(e.hasOwnProperty(u))try{f.push(u+o),n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s)}catch(c){f.push("Error: "+c.message)}f.length>1&&f.pop(),f.push("}")}return f.join("")};e.dump=u,n.dump=u},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify-simple",function(e,t){var n=e.namespace("QueryString"),r=encodeURIComponent;n.stringify=function(t,n){var i=[],s=n&&n.arrayKey?!0:!1,o,u,a;for(o in t)if(t.hasOwnProperty(o))if(e.Lang.isArray(t[o]))for(u=0,a=t[o].length;u<a;u++)i.push(r(s?o+"[]":o)+"="+r(t[o][u]));else i.push(r(o)+"="+r(t[o]));return i.join("&")}},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.11.0",{requires:["event-custom-base","querystring-stringify-simple"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.11.0");
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.11.0",{requires:["io-base","datatype-xml-parse"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-parse",function(e,t){var n=e.config.global.JSON;e.namespace("JSON").parse=function(e,t,r){return n.parse(typeof e=="string"?e:e+"",t,r)}},"3.11.0",{requires:["yui-base"]});
YUI.add("gallery-flickr-api",function(a){YUI.namespace("flickrAPITransactions");var l="http://api.flickr.com/services/rest/",n={format:"json",clientType:"yui-3-flickrapi-module"},g="flapicb",d=60000,h=YUI.flickrAPITransactions,c=function(){return true},k=function(){return true},i=function(){return true},b={last_response_id:0,id_map:{},response_map:{},setResponse:function(q,p){var o=b;o.response_map[q]=p;return o.response_map[q]},setId:function(r,q){var p=b,o=q;p.id_map[r]=o;p.last_response_id=o;return o}},f=function(r){var p="";for(var q in r){if(r.hasOwnProperty(q)){p+=q+"="+r[q]+"&"}}return p.substr(0,p.length-1)},j=function(v,s,o,q){var u=b,t,p;if(q){try{t=a.JSON.parse(s[1].responseText)}catch(r){a.log("invalid JSON","error","flickrAPI")}p=[{params:s[2].params,data:t}].concat(s)}else{t=(u.response_map[u.id_map[s[0].tId]])?u.response_map[u.id_map[s[0].tId]][0]:null;p=[{params:s[0].data,data:t}].concat(s)}if(t&&o){if(t.stat==="ok"){return v.apply(a,p)}else{if("fail"){a.log(t.message,"error","flickrAPI");return this.failure.apply(a,p)}}}else{if(o===0){this.failure.apply(a,p)}else{if(v){return v.apply(a,p)}}}},e=function(q,s,r){var p=b.last_response_id+1,o=a.Get.script(q+"?"+f(s)+"&jsoncallback=YUI.flickrAPITransactions."+g+p+"&cachebust="+(new Date()).getTime(),r);b.setId(o.tId,p);h[g+p]=function(t){var u=b.setResponse(p,arguments);if(u){a.later(1000,a,function(){delete h[g+p]})}};return o},m=function(o,q,p){a.use("io",function(r){r.io(o,{method:"POST",data:f(q),timeout:d,on:p,xdr:{credentials:true},"arguments":{params:q}})})};a.flickrAPI={callMethod:function(q,t,p,v,r){v=v||{};if(typeof v.timeout!=="number"){v.timeout=d}oYUIPOSTConf=v;t=t||{};var s=l,o;t=a.merge(a.config.flickrAPI,t);if(t.flickr_api_uri){s=t.flickr_api_uri;delete t.flickr_api_uri}a.Object.each(t,function(y,w,x){x[w]=encodeURIComponent(y)});t.method=q;if(a.Lang.isFunction(p)){p={success:p,failure:c,progress:k,timeout:i}}if(a.Lang.isObject(p)){v=a.merge(v,{onSuccess:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1])},onFailure:function(){if(b.response_map[b.id_map[arguments[0].tId]]!==null){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0])}},onProgress:function(){a.fire("flickrAPI:progress");return j.apply(p,[a.Lang.isFunction(p.progress)?p.progress:function(){},arguments,null])},onTimeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");h[g+b.id_map[arguments[0].tId]]=function(){a.log("A response callback was fired but suppressed because of a timeout enforced by configuration.","warn","flickrAPI")};b.response_map[b.id_map[arguments[0].tId]]=null;a.Get.abort(arguments[0].tId);a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0])}});oYUIPOSTConf=a.merge(oYUIPOSTConf,{success:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1,1])},failure:function(){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0,1])},timeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0,1])}})}v.scope=a;var u=a.merge(v.data,n,t);v.data=u;o=s+"?"+f(u);if(r){return{uri:s,params:u,full_url:o}}else{if(/(?:add|create|delete|edit|mute|post|record|remove|set|submit|unmute|move|sort|hide|block|unblock|insert|promote|login|cancel)[a-zA-Z]*$/.test(u.method)||o.length>a.config.maxURLLength){u.nojsoncallback=1;return m(s,u,oYUIPOSTConf)}else{return e(s,u,v)}}}}},"gallery-a-002",{requires:["event"]});YUI.add("sprintf",function(b){function a(e,d){for(var f=[];d>0;f[--d]=e){}return f.join("")}function c(){var h=0,l,j=arguments[h++],e=[],g,d,k,n,q="";while(j){if(g=/^[^\x25]+/.exec(j)){e.push(g[0])}else{if(g=/^\x25{2}/.exec(j)){e.push("%")}else{if(g=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(j)){if(((l=arguments[g[1]||h++])==null)||(l==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(g[7])&&(typeof(l)!="number")){throw ("Expecting number but found "+typeof(l))}switch(g[7]){case"b":l=l.toString(2);break;case"c":l=String.fromCharCode(l);break;case"d":l=parseInt(l);break;case"e":l=g[6]?l.toExponential(g[6]):l.toExponential();break;case"f":l=g[6]?parseFloat(l).toFixed(g[6]):parseFloat(l);break;case"o":l=l.toString(8);break;case"s":l=((l=String(l))&&g[6]?l.substring(0,g[6]):l);break;case"u":l=Math.abs(l);break;case"x":l=l.toString(16);break;case"X":l=l.toString(16).toUpperCase();break}l=(/[def]/.test(g[7])&&g[2]&&l>=0?"+"+l:l);k=g[3]?g[3]=="0"?"0":g[3].charAt(1):" ";n=g[5]-String(l).length-q.length;d=g[5]?a(k,n):"";e.push(q+(g[4]?l+d:d+l))}else{throw ("sprintf failure")}}}j=j.substring(g[0].length)}return e.join("")}b.sprintf=c},"0.0.1");YUI.add("transjax-base",function(d){var a={};function c(f,e){if(!d.Lang.isObject(a[f])){a[f]={}}if(d.Lang.isObject(e)){d.mix(a[f],e)}}function b(){var g,l,k,f,e,j;g=Array.prototype.slice.call(arguments);l=g.shift();k=g.shift();e=a[l];if(arguments.length>1){if(d.Lang.isObject(e)){f=e[k]}if(d.Lang.isUndefined(f)){return k}g.unshift(f);return d.sprintf.apply(window,g)}else{j={};for(var h in e){if(e.hasOwnProperty(h)){j[h]=e[h]}}return j}}d.transjax={add:c,get:b}},"0.0.1",{requires:["sprintf"]});YUI.add("global-dialog-transjax",function(a){a.transjax.add("global-dialog",{button_confirm:'OKAY',button_cancel:'CANCEL'})},"0.0.1",{requires:["transjax-base"]});(function(){var a="page-context";YUI.add(a,function(d){var f=[""];function e(g){if(f[f.length-1]!==g){f.push(g);d.fire("PageContext:set",{newVal:g,oldVal:f[f.length-2]||""});return true}return false}function c(h){var j,g=f.length;for(j=g-1;j>0;j-=1){if(f[j]===h){f.splice(j,1);d.fire("PageContext:unset",{newVal:f[f.length-1]||"",oldVal:h});return true}}return false}function b(){return f[f.length-1]}d.PageContext={set:e,unset:c,get:b}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("keyboard-shortcut-legend-transjax",function(a){a.transjax.add("keyboard-shortcut-legend",{header_no_context:'Keyboard shortcuts for this page',header_context:'Keyboard shortcuts for this view',instructions:'This dialog lists all of the keyboard shortcuts available on this particular page. Press any key on your keyboard to hear what it does.',enable_shortcuts:'Enable keyboard shortcuts',saving:'Saving...',saved:'Saved!',unable_to_save:'Unable to save',button_close:'CLOSE',shortcut_description:'Show all keyboard shortcuts',esc_description:'Close a dialog, like this one',esc_description_screenreader:'(press escape again to close this dialog)',general:'General',navigation:'Navigation',lightbox:'Light Box',map:'Map',actions:'Actions',you_can_reenable_shortcuts_in_prefs:'You can always <a href="/account/prefs/shortcuts/?from=extend">re-enable keyboard shortcuts</a> later in your account settings, under Sharing &amp; Extending.',change_layout:'change',qwerty_layout:'QWERTY layout',spanish_layout:'Spanish layout',qwertz_layout:'QWERTZ layout',azerty_layout:'AZERTY layout',dvorak_layout:'Dvorak layout',spanish:'Spanish',layout_selector_description:'Select a keyboard layout',up_arrow:'Up arrow',down_arrow:'Down arrow',left_arrow:'Left arrow',right_arrow:'Right arrow'})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-transjax"].requires||[]});YUI.add("keyboard-shortcut-legend-layouts",function(e){var d,c,f,b,a;d=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:189,sub:"-",sup:"_"},{keyCode:187,sub:"=",sup:"+"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:186,sub:";",sup:":"},{keyCode:222,sub:"'",sup:'"'},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:191,sub:"/",sup:"?"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];b=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"<",sup:">"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:222,sub:"'",sup:"?"},{sub:"Â¡",sup:"Â¿"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"`",sup:"^"},{keyCode:107,sub:"+",sup:"*"},{sub:"Ã‡",sup:""}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ã‘",sup:""},{sub:"Â´",sup:"Â¨"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"-",sup:"_"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];c=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"^",sup:"Ëš"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"Â§"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:191,sub:"ÃŸ",sup:"?"},{sub:"Â´",sup:"`"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:"@"},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:"â‚¬"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"Ãœ",sup:""},{keyCode:107,sub:"+",sup:"*"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"Ã–",sup:""},{sub:"Ã„",sup:""},{sub:"#",sup:"'"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:89,sub:"Y",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"_",sup:"-"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];f=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"2",sup:"",className:"small-text"},{keyCode:49,sub:"1",sup:"&"},{keyCode:50,sub:"2",sup:"Ã©"},{keyCode:51,sub:"3",sup:'"'},{keyCode:52,sub:"4",sup:"'"},{keyCode:53,sub:"5",sup:"("},{keyCode:54,sub:"6",sup:"-"},{keyCode:55,sub:"7",sup:"Ã¨"},{keyCode:56,sub:"8",sup:"_"},{keyCode:57,sub:"9",sup:"Ã§"},{keyCode:48,sub:"0",sup:"Ã "},{sub:"Ëš",sup:")"},{keyCode:109,sub:"+",sup:"="},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:65,sub:"A",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:69,sub:"E",sup:"â‚¬"},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"Â¨",sup:"^"},{sub:"$",sup:"Â£"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:77,sub:"M",sup:""},{sub:"Ã¹",sup:"%"},{sub:"*",sup:"Âµ"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:87,sub:"W",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:188,sub:",",sup:"?"},{keyCode:59,sub:";",sup:"."},{keyCode:191,sub:":",sup:"/"},{sub:"!",sup:"Â§"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];a=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:222,sub:"'",sup:'"'},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:80,sub:"P",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:191,sub:"/",sup:"?"},{keyCode:187,sub:"=",sup:"+"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:189,sub:"-",sup:"_"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:186,sub:";",sup:":"},{keyCode:81,sub:"Q",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];e.keyboardShortcutLegendLayouts={qwerty:d,spanish:b,qwertz:c,azerty:f,dvorak:a}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-layouts"].requires||[],optional:F.config.modules["keyboard-shortcut-legend-layouts"].optional||[]});YUI.add("keyboard-shortcut-manager",function(c){var j=[],e,i=false,a=c.UA,g=false,h,d;d={altKey:false,ctrlKey:false,shiftKey:false,metaKey:false};function k(p){var o=c.merge(d,{}),n=true;if(!i){return}e=c.PageContext.get();if(c.focusTracker.isInput()){return}else{if(p.altKey){o.altKey=true}if(p.ctrlKey){o.ctrlKey=true}if(p.metaKey){o.metaKey=true}if(p.shiftKey){o.shiftKey=true}if(j[p.keyCode]){c.Object.each(j[p.keyCode],function(s,r,q){n=true;c.Object.each(s.modifiers,function(u,t,v){if(n&&u!==o[t]){n=false}});if(n&&(s.context[0]==="*"||c.Array.indexOf(s.context,e)>-1)){s.handler.call(s.scope,p)}},this)}}}function l(s,z,n,A,x){var r,w,q,u,p,v,t,y;if(typeof arguments[0]==="object"){r=arguments[0];w=r.legend;s=r.keystring;z=r.handler;n=r.context;A=r.scope;x=r.modifiers}x=c.merge(d,x);if(c.Lang.isString(n)){n=[n]}if(!g){m()}q=s.split(",");u=q.length;p=A||window;v=c.guid();if(F&&F.keyListener){F.keyListener.detach(q)}for(t=0;t<u;t++){y=parseInt(q[t],10);if(!j[y]){j[y]={}}j[y][v]={handler:z,context:n,modifiers:x,scope:p}}if(c.config.flickr.flags.enable_keyboard_shortcut_legend&&c.keyboardShortcutLegend&&c.keyboardShortcutLegend.register&&w){c.Array.each(n,function(o){var B=c.clone(w,true);B.keyCodes=q;B.context=o;c.keyboardShortcutLegend.register(B)})}return{detach:function(){for(t=0;t<u;t++){y=parseInt(q[t],10);if(j[y]&&j[y][v]){j[y][v]=undefined;delete j[y][v]}}}}}function b(){h=c.on("key",k,"html","down:")}function f(){if(c.keyboardShortcutLegend&&c.keyboardShortcutLegend.show){l({keystring:"191,109",handler:c.keyboardShortcutLegend.show,context:"*"});l({keystring:"191",handler:c.keyboardShortcutLegend.show,context:"*",modifiers:{shiftKey:true}})}}function m(){if(F&&F.keyListener){if(F.keyListener.enabled&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}else{i=false}}else{if((a.gecko||a.webkit>531||a.ie>7||a.opera>11)&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}}if(i){b()}g=true;if(i&&c.config.flickr.flags.enable_keyboard_shortcut_legend){f()}}c.keyboardShortcutManager={register:l,isEnabled:function(){return i},disable:function(){i=false;c.config.flickr.flags.enable_keyboard_shortcuts=false},enable:function(){i=true;c.config.flickr.flags.enable_keyboard_shortcuts=true},destroy:function(){i=false;g=false;if(h){h.detach()}}}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-manager"].requires});YUI.add("global-dialog",function(b){var a=function(){var c=this,e=(b.UA.ie&&(b.UA.ie<7||(typeof document.documentMode!=="undefined"?document.documentMode===5:false)||!document.compatMode.match(/css1compat/i)))||(navigator.userAgent.match(/(ipod|ipad|iphone)/i&&navigator.userAgent.match(/Version\/[1234]\s/i))),d="global_dialog",f=(b.UA.ie&&b.UA.ie<7);this.spinner=null;this.is_modal=false;this.events_on=false;this.o_shadows=null;this.is_showing=false;this.style=(typeof b.config!=="undefined"&&typeof b.config.flickr!=="undefined"&&!b.config.flickr.is_zeus?"style_2009":"default");this.last_style=null;this.on_escape_handler=null;this.esc_to_close=true;this.o=null;this.o_container=null;this.o_cover=null;this.timestamp=null;this.get_elements=function(){if(!c.o_cover){c.o_cover=b.one("#global-dialog-background")}if(!c.o||!c.o_container){c.o=b.one("#"+d);if(!c.o){return false}else{c.o_container=c.o.one("div.global_dialog_container");if(c.o){c.o_shadows={left:b.one("div.shadow_l"),right:b.one("div.shadow_r")};return true}}}else{return true}};this.reposition=function(){var h,g,i;if(e){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}}if(!c.get_elements()){if(e){if(c.spinner){c.spinner.style.top=(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px")}c.position_cover()}return false}h=parseInt(c.o_container.get("offsetHeight"),10);if(h&&c.o_shadows&&c.o_shadows.left&&c.o_shadows.right){c.o_shadows.left.setStyle("height",(h+"px"));c.o_shadows.right.setStyle("height",(h+"px"))}c.o.setStyle("marginLeft",-(c.o.get("offsetWidth")/2)+"px");c.o.setStyle("marginTop",-(c.o.get("offsetHeight")/2)+"px");c.o.setStyle("left","50%");c.o.setStyle("top","50%");if(e){c.o.setStyle("top",(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px"))}};this.show=function(g){if(typeof g!=="undefined"&&typeof g.loading!=="undefined"){c.set_loading(g.loading?true:false)}if(!c.get_elements()){return false}if(g&&g.esc_to_close===false){this.esc_to_close=false}else{this.esc_to_close=true}if(typeof g!=="undefined"){if((typeof g.modal==="undefined")||(typeof g.modal!=="undefined"&&g.modal!==false)){c.set_modal(true)}else{c.set_modal(false)}if(typeof g.style!=="undefined"){c.set_style(g.style)}else{c.set_style(c.style)}if(typeof g.width!=="undefined"){c.set_width(g.width)}c.set_short_message_style((typeof g.short_message!=="undefined"&&g.short_message))}else{c.set_modal(true)}if(!c.is_showing){if(g&&typeof g.left!=="undefined"){c.o.setStyle("left",g.left);c.o.setStyle("top",g.top);c.o.setStyle("display","block");c.is_showing=true}else{c.o.setStyle("left","-9999px");c.o.setStyle("top","-9999px");c.o.setStyle("display","block");c.reposition();c.is_showing=true}}};this.hide=function(g){if(b.focusTracker&&b.focusTracker.isInput()){b.focusTracker.blur()}c.set_modal();if(e){c.detach_events()}c.detach_key_events();if(g&&g.loading){c.set_loading(true)}else{c.set_loading(false)}if(!c.get_elements()){return false}if(c.is_showing){c.o.setStyle("display","none");c.is_showing=false}c.on_escape_handler=null;if(c.modal_remove_handler&&c.modal_remove_handler.detach){c.modal_remove_handler.detach()}if(c.modal_remove_key_handler&&c.modal_remove_key_handler.detach){c.modal_remove_key_handler.detach()}};this.set_width=function(g){if(!c.get_elements()){return false}if(g){c.o.setStyle("width","auto");c.o_container.setStyle("width",g+(g==="auto"?"":"px"))}else{c.o.setStyle("width","auto");c.o_container.setStyle("width",(b.UA.ie&&b.UA.ie<7?"334px":"320px"))}c.reposition()};this.set_style=function(g){if(!c.get_elements()){return false}if(c.last_style){c.o.removeClass(c.last_style)}if(g){c.o.addClass(g)}c.last_style=g;c.reposition()};this.set_short_message_style=function(g){c.use_short_message_style=g;if(!c.get_elements()){return false}c.o.removeClass("style_2009");if(g){c.o.removeClass("global_dialog");c.o.addClass("global-dialog-short-msg");if(c.is_modal){c.modal_remove_handler=c.o_cover.once("click",function(){c.hide()});c.modal_remove_key_handler=b.once("key",function(){if(!b.keyboardShortcutManager.isEnabled()){return}if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()},window,"down:13,27")}}else{c.o.removeClass("global-dialog-short-msg");c.o.addClass("global_dialog")}c.reposition()};this.set_spinner=function(g){if(g){if(!c.spinner){c.spinner=document.createElement("div");c.spinner.className="global_dialog_spinner";document.body.appendChild(c.spinner);if(e){c.position_cover()}}c.spinner.style.display="block"}else{if(c.spinner){c.spinner.style.display="none"}}};this.set_modal=function(g){c.is_modal=g;if(!c.o_cover){return false}if(g){if(e){c.o_cover.setStyle("position","absolute");c.position_cover();c.attach_events()}else{c.o_cover.setStyle("position","fixed")}c.attach_key_events();var h=35;c.o_cover.setStyle("backgroundColor","#000");c.o_cover.setStyle("opacity",h/100);c.o_cover.setStyle("MozOpacity",h/100);c.o_cover.setStyle("filter","alpha(opacity="+h+")");c.o_cover.setStyle("display","block")}else{c.o_cover.setStyle("position","absolute");c.o_cover.setStyle("display","none");c.detach_events();c.detach_key_events()}};this.set_loading=function(g){if(!c.o_cover){return false}if(g){c.set_spinner(g);c.o_cover.removeClass("loaded");c.o_cover.addClass("loading");if(!c.is_modal){c.set_modal(true)}}else{c.set_spinner(g);c.o_cover.removeClass("loading");c.o_cover.addClass("loaded");if(c.is_modal){c.set_modal(false)}}};this.set_aria=function(g){if(!g||typeof g!=="object"){return}if(g["aria-labelledby"]){c.o.setAttribute("aria-labelledby",g["aria-labelledby"])}if(g["aria-describedby"]){c.o.setAttribute("aria-describedby",g["aria-describedby"])}};this.remove_existing_dialog=function(){if(c.o){try{c.o._node.parentNode.removeChild(c.o._node);c.o=null;return true}catch(g){return false}}};this.create_dialog=function(j,h){if(c.o){c.remove_existing_dialog();c.o=null}c.timestamp=(new Date()).getTime();c.last_style=null;c.is_showing=false;var i=document.createElement("div");document.body.appendChild(i);c.o=b.one(i);c.o.set("id","global_dialog");c.o.set("className","global_dialog");c.o.setAttribute("role","dialog");var g="";if(b.config.flickr.flags.enable_global_dialog_maximizer){b.log("assign maximizer handler");c.o.on("click",function(k){if(k.target.test(".global-dialog-admin-maximizer a")){k.preventDefault();c.o.addClass("global-dialog-maximized")}});g='<div class="global-dialog-admin-maximizer">admins only: <a href="#">maximize global dialog</a></div>'}c.o.set("innerHTML",'<div id="global-dialog-container" class="global_dialog_container"><div class="wrapper">'+j+"</div>"+g+"</div>");c.o_container=null;c.get_elements();if(h&&h.style){c.set_style(h.style)}else{c.set_style(c.style)}if(h&&h.width){c.set_width(h.width)}else{c.set_width()}return c};this.create_confirmation_dialog=function(h,s,p){var n,q,o,i,j,g,m,t,l,r,k;if(b.Lang.isObject(h)){n=b.Lang.isString(h.hd)?h.hd:"";q=b.Lang.isString(h.bd)?h.bd:"";o=b.Lang.isString(h.ft)?h.ft:""}else{q=b.Lang.isString(h)?h:""}i={CONFIRM:b.transjax.get("global-dialog","button_confirm"),CANCEL:b.transjax.get("global-dialog","button_cancel"),width:330,loading:false,modal:true,confirm_butt_class:"Butt",cancel_butt_class:"CancelButt",checkboxes:[],photo:{},scope:window};if(!b.Lang.isObject(p)){p={}}i=b.mix(p,i);t=b.guid();l=b.guid();j="";if(i.photo&&i.photo.url){j='<div class="photo_container"><img src="'+i.photo.url+'"'+(i.photo.width?' width="'+i.photo.width+'"':"")+(i.photo.height?' height="'+i.photo.height+'"':"")+"></div>"}g="";if(i.checkboxes.length){b.Array.each(i.checkboxes,function(u){g+='<div><label><input type="checkbox">&nbsp; '+u+"</label></div>"})}k=' <input type="button" class="'+i.confirm_butt_class+'" value="'+i.CONFIRM+'" id="'+t+'">';if(i.confirm_butt_class==="BigAssButt"){k=' <a href="#" class="'+i.confirm_butt_class+'" id="'+t+'"><span></span>'+i.CONFIRM+"</a>"}m=(n?'<div class="hd">'+n+"</div>":"")+'<div class="bd">'+q+j+g+'</div><div class="bd button_container confirmation_button_container">'+k+' <input type="button" class="'+i.cancel_butt_class+'" value="'+i.CANCEL+'" id="'+l+'"></div>'+(o?'<div class="ft">'+o+"</div>":"");b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(m,i).show(i);r=b.delegate("click",function(v){var w,u;w=(v.target.get("id")===t);u={};if(i.checkboxes.length){u.checkboxes=[];c.o_container.all('input[type="checkbox"]').each(function(x){u.checkboxes.push(x.get("checked"))})}b.global_dialog.hide();if(b.Lang.isFunction(s)){s.apply(i.scope,[w,u])}v.preventDefault();r.detach()},c.o_container,'.button_container input[type="button"], .button_container a.BigAssButt')};this.create_alert_dialog=function(l,m,k){var h,j,i,g;h={CONFIRM:b.transjax.get("global-dialog","button_confirm"),width:330,loading:false,modal:true};if(!b.Lang.isObject(k)){k={}}h=b.mix(k,h);i=b.guid();j='<div class="hd">'+l+'</div><div class="bd button_container"> <input type="button" class="Butt" value="'+h.CONFIRM+'" id="'+i+'"></div>';b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(j,h).show(h);b.delegate("click",function(){b.global_dialog.hide();if(b.Lang.isFunction(m)){m.apply(window,[true])}},this.o_container,"#"+i)};this.position_cover=function(h){var g,i;if(!h){h=b.one(c.o_cover)}c.get_elements();if(h){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}h.setStyle("width","100%");h.setStyle("height",(b.one("body").get("offsetHeight"))+"px");h.setStyle("top",i+"px");h.setStyle("left",g+"px")}};this.legacy_resize_handler=function(){c.reposition();c.position_cover()};this.legacy_scroll_handler=function(){c.reposition();c.position_cover()};this.key_handler=function(h){if(!b.keyboardShortcutManager.isEnabled()){return}var g=h.which||h.keyCode;if(g===27){if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()}};this.attach_events=function(){if(c.events_on){return false}c.events_on=true;if(!b.UA.ios){c.resize_event_handle=b.on("resize",c.legacy_resize_handler,window,c,true);c.scroll_event_handle=b.on("scroll",c.legacy_scroll_handler,window,c,true)}};this.attach_key_events=function(){c.key_event_handle=b.on("key",c.key_handler,window,"up:27",c,true)};this.detach_events=function(){if(!c.events_on){return false}c.events_on=false;if(c.resize_event_handle){c.resize_event_handle.detach()}if(c.scroll_event_handle){c.scroll_event_handle.detach()}};this.detach_key_events=function(){if(c.key_event_handle){c.key_event_handle.detach()}};this.get_elements()};b.global_dialog=new a()},"0.0.1",{requires:F.config.modules["global-dialog"].requires||[],optional:F.config.modules["global-dialog"].optional||[]});YUI.add("keyboard-shortcut-legend",function(c){var m=false,N="keyboard-shortcut-legend",L,E={},o=false,C=false,f,w,d=2000,x="keylayout",B,y,t,i,G,s,H,P=0,U=true,q=false,v,r=890,b=584,A=[],k=[c.transjax.get("keyboard-shortcut-legend","navigation"),c.transjax.get("keyboard-shortcut-legend","actions"),c.transjax.get("keyboard-shortcut-legend","lightbox"),c.transjax.get("keyboard-shortcut-legend","map"),c.transjax.get("keyboard-shortcut-legend","general")];function R(){c.all(".keyboard-shortcut-legend-trigger").on("click",J);B=c.Cookie.get(x)||u();m=true}function u(){var V="qwerty";if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){if(c.config.flickr.lang==="de-de"){V="qwertz"}else{if(c.config.flickr.lang==="fr-fr"){V="azerty"}else{if(c.config.flickr.lang==="es-us"){V="spanish"}}}}return V}function J(X){var W=c.PageContext.get(),V={};if(o){O(X);return}y=c.keyboardShortcutLegendLayouts[B];if(W!==""&&W!=="lightbox"&&W!=="flickrMap"){c.PageContext.unset(W);W=c.PageContext.get()}c.Array.each(A,function(Y,Z){if(Y.context===W||Y.context==="*"){c.Array.each(k,function(ab,aa){if(Y.group===ab){if(!V[ab]){V[ab]=[]}V[ab].push(Y)}})}});c.Array.each(k,function(Z,Y){if(V[Z]){V[Z].sort(K)}});if(E[W+B]){L=E[W+B]}else{L='<div class="hd keyboard-shortcut-legend-hd"><h2 id="keyboard-shortcut-legend-header">'+c.transjax.get("keyboard-shortcut-legend","header_"+(W===""?"no_context":"context"))+'</h2><label class="killswitch-container"><span class="spinner">'+c.transjax.get("keyboard-shortcut-legend","saving")+'</span><span class="success"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","saved")+'</span><span class="alert"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","unable_to_save")+'</span><input type="checkbox" class="killswitch" tabindex="1" checked>'+c.transjax.get("keyboard-shortcut-legend","enable_shortcuts")+'</label><a href="#" class="keyboard-shortcut-legend-close"></a></div><div class="bd keyboard-shortcut-legend-bd '+B+'-layout"><p id="keyboard-shortcut-legend-instructions" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","instructions")+"</p>";c.Array.each(y,function(Z,Y){L+='<ul class="keyboard-row row-'+Y+'">';c.Array.each(Z,function(aa){L+="<li"+(aa.className?' class="'+aa.className+'"':"")+' id="key-'+aa.keyCode+'"><span class="key-container"><a href="#" class="key-height" role="button" tabindex="-1"><span class="key">'+(aa.sup?'<span class="sup">'+aa.sup+"</span>":"")+(aa.sub?'<span class="sub">'+aa.sub+"</span>":"")+"</span></a></span></li>"});L+="</ul>"});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){L+='<div class="layout-tools"><span class="layout-description show"><span class="selected-layout">'+c.transjax.get("keyboard-shortcut-legend",B+"_layout")+'</span> (<a href="#" class="layout-change" role="button" tabindex="1">'+c.transjax.get("keyboard-shortcut-legend","change_layout")+'</a>)</span><span id="layout-selector-desc" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","layout_selector_description")+'</span><select class="layout-selector" aria-label="layout-selector-desc"><option value="qwerty"'+(B==="qwerty"?" selected":"")+'>QWERTY</option><option value="spanish"'+(B==="spanish"?" selected":"")+">"+c.transjax.get("keyboard-shortcut-legend","spanish")+'</option><option value="qwertz"'+(B==="qwertz"?" selected":"")+'>QWERTZ</option><option value="azerty"'+(B==="azerty"?" selected":"")+'>AZERTY</option><option value="dvorak"'+(B==="dvorak"?" selected":"")+">Dvorak</option></select></div>"}L+='<hr><div class="shortcuts" role="document">';c.Array.each(k,function(Z,Y){if(V[Z]){L+='<div class="group"><h4>'+Z+"</h4><ul>";c.Array.each(V[Z],function(aa,ab){L+='<li id="shortcut-'+Y+"-"+ab+'"><kbd'+((aa.key==="&larr;"||aa.key==="&rarr;")?' class="arrow"':"")+">"+aa.key+'</kbd><span id="shortcut-'+Y+"-"+ab+'-desc">'+aa.description+"</span></li>"});L+="</ul></div>"}});L+='</div><div class="mask"></div></div>';E[W+B]=L}U=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);c.PageContext.set(N);c.global_dialog.remove_existing_dialog();c.global_dialog.create_dialog(L,{width:U?842:633}).show({loading:false,modal:true});c.global_dialog.set_aria({"aria-labelledby":"keyboard-shortcut-legend-header","aria-describedby":"keyboard-shortcut-legend-instructions"});o=true;f=c.one(".keyboard-shortcut-legend-hd .killswitch");f.set("checked",c.config.flickr.flags.enable_keyboard_shortcuts);if(q){q=false;c.one(".keyboard-shortcut-legend-bd .layout-tools .layout-change").focus()}else{f.focus()}h(f,true);if(!U){c.one(".keyboard-shortcut-legend-bd").addClass("mini");c.global_dialog.reposition()}c.Array.each(k,function(Z,Y){if(V[Z]){c.Array.each(V[Z],function(aa,ac){var ab=c.one("#shortcut-"+Y+"-"+ac),ad=false;c.Array.each(aa.keyCodes,function(af){var ae=c.one("#key-"+af);if(ae){ad=true;ae.addClass("highlight");ae.on(["focus","mouseover"],function(ag){z({blur:(ag.type==="mouseover")});ab.addClass("highlight")});ae.on(["blur","mouseout"],function(ag){z()});ab.on("mouseover",function(ag){z();ae.addClass("super-highlight")});ab.on("mouseout",function(ag){z()});ae.one("a.key-height").setAttribute("aria-describedby",ab.get("id")+"-desc")}});if(!ad){ab.remove()}})}});t=c.all(".keyboard-shortcut-legend-bd .keyboard-row li");i=c.all(".keyboard-shortcut-legend-bd .shortcuts li");c.once("click",O,".keyboard-shortcut-legend-close");c.keyboardShortcutManager.register({keystring:"27",handler:O,context:N});c.all(".keyboard-shortcut-legend-bd a.key-height").on("click",function(Y){Y.preventDefault()});c.all(".keyboard-shortcut-legend-hd .killswitch").on("click",function(Y){h(Y.target)});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){c.all(".keyboard-shortcut-legend-bd .layout-change").on("click",l);c.all(".keyboard-shortcut-legend-bd .layout-selector").on("change",g)}v=c.on("resize",c.betterThrottle(I,50));if(c.config.flickr.flags.enable_keyboard_shortcuts){H=true;c.keyboardShortcutManager.disable();e()}if(X&&X.preventDefault){X.preventDefault()}}function K(W,V){if(W.order>V.order){return 1}else{if(V.order>W.order){return -1}}return 0}function z(V){if(!V){V={}}if(V.blur&&s&&typeof s.blur==="function"){s.blur();s=null}t.removeClass("super-highlight");i.removeClass("highlight")}function I(W){var V=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);if(V!==U){O();J()}}function T(){S();c.one(".keyboard-shortcut-legend-hd .spinner").addClass("show");w=new Date().getTime()}function p(X){var V=new Date().getTime(),W=V-w;if(W>=d||!X){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)}else{setTimeout(function(){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)},d-W)}}function h(X,Y){var V=c.one(".keyboard-shortcut-legend-bd"),W=c.one(".keyboard-shortcut-legend-bd .mask");if(!Y){T()}if(X.get("checked")){if(W){W.setStyle("display","none")}if(!Y){Q(function(Z){p(Z);if(!Z){if(W){W.setStyle("display","block")}c.keyboardShortcutManager.disable();X.set("checked",false)}})}}else{W.setStyle("width",V.get("offsetWidth"));W.setStyle("height",V.get("offsetHeight"));W.setStyle("display","block");if(!Y){a(function(Z){p(Z);if(!Z){W.setStyle("display","none");c.keyboardShortcutManager.enable();X.set("checked",true)}})}}}function D(W){var V=c.one(W?".keyboard-shortcut-legend-hd .success":".keyboard-shortcut-legend-hd .alert");V.addClass("show");setTimeout(S,d)}function S(){c.all(".keyboard-shortcut-legend-hd .success, .keyboard-shortcut-legend-hd .alert").removeClass("show")}function Q(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:0},{success:function(){C=false;H=true;e();V(true)},failure:function(){V(false)}})}function a(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:1},{success:function(){C=true;H=false;M();V(true)},failure:function(){V(false)}})}function l(V){c.one(".keyboard-shortcut-legend-bd .layout-description").removeClass("show");c.one(".keyboard-shortcut-legend-bd .layout-selector").addClass("show").focus();if(V&&typeof V.preventDefault==="function"){V.preventDefault()}}function g(W){var V;B=W.target.get("value");V={domain:".flickr.com",path:"/",expires:(new Date((new Date()).getTime()+10*365*60*60*24*1000))};c.Cookie.set(x,B,V);q=true;O();J()}function n(W){var V;if(W.keyCode===32&&W.target.test(".keyboard-shortcut-legend-bd .layout-tools .layout-change")){l(W);return}else{if(c.focusTracker.isInput()||W.altKey||W.ctrlKey||W.metaKey||W.keyCode===9||c.one(".keyboard-shortcut-legend-bd .layout-tools").contains(W.target)){return}else{if(W.keyCode===27){P++}if(P>1){O();P=0;W.preventDefault();return}V=c.one("#key-"+W.keyCode);if(V){s=V.one("a.key-height");s.focus()}W.preventDefault()}}}function e(){G=c.on("key",n,"html","down:")}function M(){if(G&&typeof G.detach==="function"){G.detach()}}function O(V){c.global_dialog.remove_existing_dialog();c.global_dialog.hide();c.PageContext.unset(N);v.detach();M();if(H){c.keyboardShortcutManager.enable()}o=false;if(C){c.global_dialog.create_alert_dialog('<span class="reenable-msg">'+c.transjax.get("keyboard-shortcut-legend","you_can_reenable_shortcuts_in_prefs")+"</span>",c.global_dialog.hide,{width:280})}if(V&&V.preventDefault){V.preventDefault()}}function j(V){if(!m){R()}if(!V.context){V.context=""}if(!V.group){V.group=c.transjax.get("keyboard-shortcut-legend","general")}if(!V.order&&V.order!==0){V.order=50}A.push(V)}c.keyboardShortcutLegend={show:J,hide:O,register:j};j({keyCodes:[191,109],key:"?",description:c.transjax.get("keyboard-shortcut-legend","shortcut_description"),context:"*",order:0});j({keyCodes:[27],key:"esc",description:c.transjax.get("keyboard-shortcut-legend","esc_description")+' <span class="obscured">'+c.transjax.get("keyboard-shortcut-legend","esc_description_screenreader")+"</span>",context:"*",order:1})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend"].requires||[],optional:F.config.modules["keyboard-shortcut-legend"].optional||[]});YUI.add("menus",function(e){var a={};function d(f){a[f.id]=new c(f);return a[f.id]}function b(){e.fire("flickr-menus:hide")}e.menus={add:d,hide:b};function c(f){c.superclass.constructor.apply(this,arguments)}c.NAME="Menu";c.ATTRS={id:{value:""},popover:{},context:{},button_node:{},constrain_node:{},open_on_hover:{value:false},hide_delay:{},scroll:{value:false},button_evt_listeners:{},click_to_hide_handle:{},escape_key_listener:{},use_touch_events:{value:("ontouchstart" in document.documentElement)},show_timer:{},hide_timer:{},hidden_prop:{value:""},onHide:{}};e.extend(c,e.Base,{initializer:function(f){this.set("scroll",f.scroll);this.set("id",f.id);this.set("popover",f.popover);this.set("context",f.context);if(f.button_node instanceof e.Node){this.set("button_node",f.button_node)}else{f.button_node=undefined;delete f.button_node}if(f.constrain_node instanceof e.Node){this.set("constrain_node",f.constrain_node)}else{f.constrain_node=undefined;delete f.constrain_node}e.on("flickr-menus:hide",function(g){this.hide()},this);this.attachWindowHideHandler();this.attachButtonActionHandler();this.after("button_nodeChange",this.attachButtonActionHandler,this)},show:function(){if(this.get("popover").get("visible")){return false}if(this.get("button_node")){this.get("button_node").addClass("ActiveButt")}e.fire("flickr-menus:hide");if(this.get("button_node")){this.get("popover").alignToElement(this.get("button_node"),this.get("constrain_node")||e.one("#main"))}this.get("popover").show();e.PageContext.set(this.get("context"));e.later(20,this,function(){var g,f;if(!this.get("click_to_hide_handle")){g=e.one("body").on(this.get("use_touch_events")?"touchstart":"click",function(h){if(this.get("popover").get("boundingBox").contains(h.target)||!h.target.ancestor("body",true)){return}this.hide()},this);this.set("click_to_hide_handle",g)}if(!this.get("escape_key_listener")){f=e.keyboardShortcutManager.register({keystring:"27",handler:function(h){this.hide()},context:this.get("context"),scope:this});this.set("escape_key_listener",f)}});if(this.get("scroll")){e.one("#"+this.get("id")).vis.animScrollIntoView(true,40,true)}e.fire("menus:show")},hide:function(){if(!this.get("popover").get("visible")){return false}if(this.get("button_node")){this.get("button_node").removeClass("ActiveButt")}this.get("popover").hide();e.PageContext.unset(this.get("context"));if(this.get("escape_key_listener")){this.get("escape_key_listener").detach();this.set("escape_key_listener",undefined)}if(this.get("click_to_hide_handle")){this.get("click_to_hide_handle").detach();this.set("click_to_hide_handle",undefined)}e.fire("menus:hide");if(typeof this.get("onHide")==="function"){this.get("onHide")()}},toggle:function(){if(this.get("popover").get("visible")){this.hide()}else{this.show()}},attachButtonActionHandler:function(){var g,f,k,j,h=[];if(this.get("button_evt_listeners")){g=this.get("button_evt_listeners");for(f=g.length-1;f>=0;f--){g[f].detach()}this.set("button_evt_listeners",[])}if(this.get("open_on_hover")){j=function(i){if(i.currentTarget.hasClass("DisabledButt")){return}if(i.type==="mouseenter"&&i.currentTarget.hasClass("open")){var l=e.focusTracker.get();if(l.getDOMNode().tagName!=="BODY"){l.blur();this.show()}}if(i.type==="touchstart"){i.stopImmediatePropagation()}if(i.type==="mousemove"&&!i.currentTarget.hasClass("open")){this.show();return}if(i.type==="focus"&&document[this.get("hidden_prop")]){return}if(!i.currentTarget.hasClass("open")||i.type==="mouseleave"||i.type==="blur"){this.toggle();i.halt()}};h.push(this.get("button_node").on("focus",j,this));h.push(this.get("button_node").on("blur",j,this));if(this.get("use_touch_events")){h.push(this.get("button_node").on("touchstart",j,this))}h.push(this.get("button_node").on("mouseenter",j,this));h.push(this.get("button_node").on("mouseleave",j,this));h.push(this.get("button_node").once("mousemove",j,this))}else{k=function(l){l.preventDefault();if(l.currentTarget.hasClass("DisabledButt")){return}this.toggle();try{l.currentTarget.blur()}catch(i){}};h.push(this.get("button_node").on("click",k,this))}this.set("button_evt_listeners",h)},attachWindowHideHandler:function(){if(typeof document.hidden!=="undefined"){this.set("hidden_prop","hidden")}else{if(typeof document.mozHidden!=="undefined"){this.set("hidden_prop","mozHidden")}else{if(typeof document.msHidden!=="undefined"){this.set("hidden_prop","msHidden")}else{if(typeof document.webkitHidden!=="undefined"){this.set("hidden_prop","webkitHidden")}}}}}})},"0.0.1",{requires:F.config.modules.menus.requires||[],optional:F.config.modules.menus.optional||[]});YUI.add("global-nav",function(c){var k={refresh_banner:"#refresh-announcement",subscription_banner:"#subscription-announcement",storage_banner:"#storage-announcement",eyebrow:"#eyebrow",nav:"#global-nav",searchBox:"#gn-search-field",searchButt:"#global-nav .search-icon",menuParent:".gn-menu-parent"},i={refresh_banner:null,subscription_banner:null,eyebrow:null,nav:null,searchBox:null,searchButt:null,menuParent:null},j={touch:"ontouchstart" in document.documentElement},f=null;var d=995;var a={node:{},visible:{value:false},boundingBox:{readOnly:true,getter:function(){return this.get("node")}}};var e=100;var h=function(n){n=n||{};this.addAttrs(c.clone(a,true),n)};h.prototype.show=function(){var n=this.get("node");this.set("visible",true);f=window.setTimeout(function(){n.addClass("open");f=null},e)};h.prototype.hide=function(){if(f){window.clearTimeout(f);f=null}this.get("node").removeClass("open");this.set("visible",false)};h.prototype.alignToElement=function(){};function m(){i.refresh_banner=c.one(k.refresh_banner);i.subscription_banner=c.one(k.subscription_banner);i.storage_banner=c.one(k.storage_banner);i.eyebrow=c.one(k.eyebrow);i.nav=c.one(k.nav);i.searchBox=c.one(k.searchBox);i.searchButt=c.one(k.searchButt);i.menuParents=i.nav.all(k.menuParent);g();b();l();c.on("Liquid:resize",c.betterThrottle(function(n){l()},50))}function b(){c.augment(h,c.Attribute);for(var p=0,n=i.menuParents.size();p<n;p++){var q=i.menuParents.item(p);var o="gn-menu-"+q.getData("context");c.menus.add({id:o,popover:new h({node:q}),context:o,button_node:q,open_on_hover:true})}i.nav.removeClass("no-js")}function g(){if(!i.searchBox){return}i.searchBox.on(["focus","blur"],function(n){i.searchButt.toggleClass("focused",n.type==="focus")})}function l(){var n=false;if(j.touch||(document.body.offsetWidth&&document.body.offsetWidth<d)||(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth<d)||(window.innerWidth<d)){n=true}i.nav.toggleClass("scrolling-header",n);if(i.eyebrow){i.eyebrow.toggleClass("scrolling-header",n)}if(i.refresh_banner){i.refresh_banner.toggleClass("scrolling-header",n)}if(i.subscription_banner){i.subscription_banner.toggleClass("scrolling-header",n)}if(i.storage_banner){i.storage_banner.toggleClass("scrolling-header",n)}}c.globalNav={init:m}},"0.0.1",{requires:F.config.modules["global-nav"].requires||[],optional:F.config.modules["global-nav"].optional||[]});if(YAHOO===void 0||!YAHOO){var YAHOO={}}YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function b(f,d,g){this.yqlid=f,this.eventName=d,this.spaceidPrefix=g}var a="richview";b.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var c={pageview:new b("pv","pageview",""),simple:new b("lv","event","P"),linkview:new b("lv","linkview","P"),richview:new b(a,a,"R"),dwell:new b("lv","dwell","D")};return{getEventByName:function(d){return c[d]}}}(),YAHOO.i13n.Rapid=function(aw){function ah(){}function am(a){this.map={},this.count=0,a&&this.absorb(a)}function aj(){this.map={},this.count=0}function al(j,v){if(!j){return null}null===v&&(v=!1);var f=new aj,b=G.getAttribute(j,G.data_action_outcome);b&&f.set("outcm",b);var h=G.getAttribute(j,"data-ylk");if(null===h||0===h.length){return f}for(var p=h.split(G.ylk_pair_delim),r=0,m=p.length;m>r;r++){var g=p[r].split(G.ylk_kv_delim);if(2===g.length){var w=g[0],k=g[1];null!==w&&""!==w&&null!==k&&8>=w.length&&300>=k.length&&("_p"!==w||v)&&f.set(w,k)}}return f}function ar(b,a,c){return a>b?a:b>c?c:b}function aA(){F.set("A_sid",YAHOO.i13n.A_SID||G.rand()),F.set("_w",G.rmProto(window.location.href)),aw.keys&&F.absorb(aw.keys)}function ag(i){var m=YAHOO.i13n,d=YAHOO.i13n.TEST_ID||i.test_id,a=document.location+"";aA(),d&&(d=G.norm(""+d));var b=300,k=700,j={version:"3.12.1",keys:F,getReferrer:function(){return G.norm(G.clref(i.referrer||document.referrer))},spaceid:G.norm(YAHOO.i13n.SPACEID||i.spaceid),yrid:G.norm(i.yrid||""),oo:i.oo?"1":"0",nol:i.nol?"1":"0",yql_enabled:i.yql_enabled!==!1,ywa:i.ywa||null,ywa_dpid:null,ywa_cf_override:m.YWA_CF_MAP||{},ywa_action_map:m.YWA_ACTION_MAP||{},ywa_outcome_map:m.YWA_OUTCOME_MAP||{},USE_RAPID:i.use_rapid!==!1,linktrack_attribut:i.lt_attr||"text",tracked_mods:i.tracked_mods||[],lt_attr:i.lt_attr||"text",client_only:i.client_only,text_link_len:i.text_link_len||-1,test_id:d,yql_host:i.yql_host||"geo.query.yahoo.com",yql_path:i.yql_path||"/v1/public/yql",compr_timeout:i.compr_timeout||k,compr_on:i.compr_on!==!1,compr_type:i.compr_type||"deflate",webworker_file:i.webworker_file||"rapidworker-1.1.js",nofollow_classname:i.nofollow_class||"rapidnofollow",no_click_listen:i.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:i.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",deb:i.debug===!0,ldbg:a.indexOf("yhldebug=1")>0,addmod_timeout:i.addmodules_timeout||300,ult_token_capture:"boolean"==typeof i.ult_token_capture?i.ult_token_capture:!1,track_type:i.track_type||"data-tracktype",dwell_on:i.dwell_on!==!1,async_all_clicks:i.async_all_clicks===!0};j.ywa_action_map[YAHOO.i13n.EventTypes.getEventByName("richview").getEventName()]=100,!j.ywa||j.ywa.project_id&&0!=j.ywa.project_id&&G.isNumeric(j.ywa.project_id)||(ax("Invalid YWA project id: null or not numeric."),j.ywa=null);var g=1*j.compr_timeout;j.compr_timeout=G.isNum(g)?ar(g,b,k):k;var p=1*i.click_timeout,h=300;return j.click_timeout=G.isNum(p)&&h>=p&&p>=150?p:h,j}function ay(){F.set("A_sid",G.rand())}function ao(){return"Rapid-"+q.version+"("+(new Date).getTime()+"):"}function ai(a){console.warn("RAPID WARNING: "+a)}function ax(a){console.error("RAPID ERROR: "+a)}function av(a){q.ldbg&&console.log(ao()+a)}function an(){var j=document.cookie,v=!1;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(j)){for(var f=j.split(/;\s/g),b=null,d=null,h=null,m=0,p=f.length;p>m;m++){if(h=f[m].match(/([^=]+)=/i),h instanceof Array){try{b=G.dec(h[1]),d=G.dec(f[m].substring(h[1].length+1))}catch(k){ax(k)}}else{b=G.dec(f[m]),d=b}"B"===b||"BX"===b||"TT"===b||q.ywa&&b==="fpc"+q.ywa.project_id||"D"===b?this.cookieMap[b]=d:0===b.indexOf("ywadp")&&(q.ywa_dpid=d,v=!0)}}if(!v&&q.ywa){var g="ywadp"+q.ywa.project_id,w=aB();q.ywa_dpid=w,ak(g,w,315360000),this.cookieMap[g]=w}}function af(){if(q.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var b=window.document.location+"";if(b.match(/;_yl[a-z]{1}=/)){q.ldbg&&av("Found ULT Token on URL."),aq.sendGeoT(b)}else{var a=new an,c=a.getCookieByName("D");c&&(G.clearCookie("D"),aq.sendGeoT(c))}}}function at(){return Math.floor((new Date).valueOf()/1000)}function ak(d,b,g){var c=new Date,f="";c.setTime(c.getTime()+1000*g),f="; expires="+c.toGMTString();var a=d+"="+b+f+"; path=/";document.cookie=a}function aB(){return""+Math.floor(4294967295*Math.random())}function ac(){function aT(b){var a="cf";return a+=10>b&&"0"!==(""+b).charAt(0)?"0"+b:b}function aH(){void 0!==window.ITTs&&G.isArr(window.ITTs)&&0!==window.ITTs.length||(window.ITTs=[{}]),window.ITTs[0].setFPCookies||(window.ITTs[0].setFPCookies=function(){ak("fpc"+q.ywa.project_id,window.ITTs[0].FPCV,31536000)})}function aK(g,b,k,c){q.ldbg&&av(g);var j=new Image,a=null;j.onload=j.onabort=j.onerror=function(){b&&k?b[k]=1:c&&(clearTimeout(a),c.call(null))},j.src=g,c&&(a=setTimeout(function(){c.call(null)},q.click_timeout)),setTimeout(function(){j=null},100000)}function aN(c,a){for(var g in c){if(G.hasOwn(c,g)){var b=q.ywa_cf_override[g];b&&(a[b]=c[g])}}}function aR(a0,V,a3,a8,I,a6,a1){function N(b,a){var c=a?"%3B":";";return b+(a3?c+b:"")}var a5=new an,E=a5.getYWAFPC();a8=a8||{},"c"!==a0&&aH();var aZ=[G.curProto(),q.ywa.host||"a.analytics.yahoo.com","/","p"===a0?"fpc.pl":"p.pl","?"],a9=q.ywa.project_id,t=q.ywa.document_group,a4={};q.test_id&&(a4["14"]=q.test_id);var x=["_cb="+G.rand(),".ys="+q.spaceid,"a="+a9,"b="+G.enc(q.ywa.document_name||document.title),"d="+G.enc(new Date),"f="+G.enc(window.location.href),"j="+G.sr("x"),"k="+G.cold(),"t="+at(),"l=true"];if(a1){for(var a7 in a1){G.hasOwn(a1,a7)&&x.push(a7+"="+G.enc(a1[a7]))}}if(t&&""!==t&&x.push("c="+G.enc(t)),q.ywa_dpid&&x.push("dpid="+q.ywa_dpid),"c"===a0){a8.x=12;var aY="12";a3&&(aY=G.enc(aY+";"+a3)),x.splice(0,0,"x="+aY)}else{"e"===a0&&x.push("x="+V+(a3?";"+a3:""))}E&&x.push("fpc="+G.enc(E));var a2=q.ywa.member_id;a2&&x.push("m="+a2),""!==q.getReferrer()&&x.push("e="+G.enc(q.getReferrer())),aN(a6||aG().getAll(),a4),"e"===a0&&I&&aN(I,a4);var e=q.ywa.cf;G.aug(a4,e,function(a){return !G.isResCF(a)});for(var S in a4){G.hasOwn(a4,S)&&x.push(aT(S)+"="+N(G.enc(a4[S]),1))}if(("e"===a0||"c"===a0)&&x.push("ca=1"),"c"===a0){for(var o in a8){if(G.hasOwn(a8,o)&&"x"!==o){var j=a8[o];try{j=G.enc(N(j))}catch(M){ax(M)}x.push(aT(o)+"="+j)}}}return aZ.join("")+x.join("&")}function aW(){return"rapid_if_"+G.rand()}function aF(b){var a="display:none;";!G.isIE||6!==G.ieV&&7!==G.ieV&&8!==G.ieV?G.sa(b,"style",a):b.style.setAttribute("cssText",a,0)}function aU(b){var a=null;if(G.isIE&&8>=G.ieV){var c="";G.isSecure()&&6==G.ieV&&(c='src="https://geo.yahoo.com/b.html"'),a=document.createElement("<iframe "+c+' name="'+b+'"></iframe>')}else{a=document.createElement("iframe")}return a.name=b,a}function aO(){setTimeout(function(){var a=aU("");G.addEvent(a,"load",function(){G.rmBodyEl(a)}),G.appBodyEl(a)},1)}function aE(k,w){var c=null,a=G.make("form"),b=G.make("input"),j=aW(),x=aW(),l="application/x-www-form-urlencoded;charset=UTF-8";c=aU(j),aF(c),aF(a),a.id=x,a.method="POST",a.action=aX(w),a.target=j,G.isIE&&7>=G.ieV?a.setAttribute("enctype",l):(a.setAttribute("enctype",l),a.setAttribute("encoding",l)),b.name="q",b.value=k,G.isIE&&G.ieV>=10&&(b.type="submit"),a.appendChild(b);var g="load",u=function(){var o="";if(q.ldbg&&(!G.isIE||G.ieV>=9)){var i=c.contentDocument||c.contentWindow.document;o=i.body.innerHTML}G.rmEvent(c,g,u),setTimeout(function(){G.rmBodyEl(c),G.rmBodyEl(a)},0),q.ldbg&&av("iframe resp: "+o),G.isIE&&7>=G.ieV&&aO()};G.addEvent(c,g,u),G.appBodyEl(c),G.appBodyEl(a),a.submit()}function aX(c){var a=q.deb,g=G.rand(),b=[G.curProto(),q.yql_host,q.yql_path,"?format=json&yhlVer=2&yhlClient=rapid&yhlS=",q.spaceid,a===!0?"&yhlEnv=staging":"",a===!0||q.ldbg?"&debug=true&diagnostics=true":"",G.isIE&&7>=G.ieV?"&yhlCT=2":!G.isIE||8!=G.ieV&&9!=G.ieV?"":"&yhlCT=3","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",q.version,"&yhlRnd=",g,"&yhlCompressed=",c||0].join("");return q.ldbg&&av(b),b}function L(c,a){var g=G.getXHR(),b=aX(a);g.open("POST",b,!0),g.withCredentials=!0,g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),q.ldbg&&(g.onreadystatechange=function(){4===g.readyState&&av(g.status+":xhr response: "+g.responseText)}),g.send(c)}function aS(c,a,g){var b={};return G.isObj(c)?(G.aug(b,c,g),b):b}function aD(k,g){var u={m:G.norm(k.moduleName),l:[]};k.moduleYLK&&(u.ylk=k.moduleYLK.getAll());for(var j=k.links,l=function(a){var i="_p"===a;return g&&i?!0:"sec"!==a&&!i},c=0,b=j.length;b>c;c++){u.l.push(aS(j[c],g,l))}return u}function aV(g,b){var k=[],c=null;for(var j in g){if(G.hasOwn(g,j)&&(c=g[j])){var a=aD(c,b);a.l.length>0?k.push(a):q.ldbg&&av('Not capturing 0 links mod: "'+c.moduleName+'"')}}return k}function aM(b,a){return b?"pv":a&&a.event?a.event.type.getYQLID():"lv"}function aP(c,a,i,b,g){return[{t:aM(a,g),s:q.spaceid,pp:aG(a,b).getAll(),_ts:at(),lv:aV(c,i)}]}function aG(c,a){var b=am.makeFromPP(q.keys);return b.absorb(a),c&&b.set("A_",1),b}function f(c,a,g){var b="select * from x where a = '"+c+"'";return(a?"q=":"")+(g?G.enc(b):b)}function aJ(b){var a={bp:aC(),r:b.call(0),yrid:q.yrid,optout:q.oo,nol:q.nol};return G.toJSON(a)}function n(c,a,i){var b={};i.event&&G.aug(b,i.event.data);var g=aJ(function(){return aP([c],a,!0,b,i)});Y(g,a)}function m(c,a,i,b){var g=aJ(function(){return aP(c,a,!1,i,b)});Y(g)}function aI(a){return a.identifier}function Y(w){function C(c,a){0===a&&(c=c.replace(/'/g,"\\'")),b&&av("body: "+c),G.hasCORS()?(g=f(c,!0,!0),L(g,a)):(g=f(c,0,0),aE(g,a))}function j(){A||(A=!0,C(w,0),b&&av("sent in failSend"))}var b=q.ldbg,g="",v=U[q.compr_type];if(q.compr_on&&G.hasWorkers()&&v>1&&w.length>2048){b&&av("Looking for worker:"+q.webworker_file+", compr timeout:"+q.compr_timeout);var y=new Worker(q.webworker_file),A=!1,x=null,k=0;y.onerror=function(a){clearTimeout(x),j(),ai(a.message),y.terminate()},y.onmessage=function(c){clearTimeout(x);var a=G.tms();A||(A=!0,C(c.data,v)),b&&av("Ratio ("+c.data.length+"/"+w.length+"): "+(100*c.data.length/w.length).toFixed(2)+"% -> C_T: "+(a-k)+" ms ("+a+"-"+k+")"),y.terminate()},b&&av("posting to worker: "+w),k=G.tms(),y.postMessage({type:v,json:w}),x=setTimeout(function(){j(),y.terminate()},q.compr_timeout)}else{C(w,0)}}function s(b,a,c){return G.curProto()+d+"/"+b+["?s="+(c?c:q.spaceid),"t="+G.rand()+","+Math.random(),"_I="+q.yrid,"_AO="+q.oo,"_NOL="+q.nol,"_R="+G.enc(q.getReferrer()),("c"===b?"_K=":"_P=")+R(a)].join("&")}function R(b){var a=new am(aC(!1));return a.absorb(q.keys.getAll()),b&&(b instanceof am?a.absorb(b.getAll()):ax("Internal error in buildGeoPP: not PP type")),q.version+"%05"+a.ser()}function h(b){var a=[s("c")+"&_C="+G.ser(b.data)];return a.join("&")}function p(b,a){var c=b[a];return c&&G.isNum(c)&&c>=0?c:null}function aQ(b){var a=G.getAttribute(b,G.DATA_ACTION),c=G.getAttribute(b,G.data_action_outcome);return null!==a?p(q.ywa_action_map,a):null!==c?p(q.ywa_outcome_map,c):null}var d=YAHOO.i13n.beacon_server||"geo.yahoo.com",aC=function(b){var a={_pl:1,A_v:q.version},c=q.getReferrer();return c&&b!==!1&&(a._R=c),q.test_id&&(a.test=q.test_id),a._bt||(a._bt="rapid"),a},aL=function(){var c=null,a=[],g=0,b=q.addmod_timeout;return function(t,r,j,k){clearTimeout(c);var v=+new Date-g;if(a=G.uniqConcat(a,t,aI),v>b){g=+new Date,m(a,r,j,k),a=[]}else{var e=b-v;c=setTimeout(function(){q.ldbg&&av("queueing send in addMods"),m(a,r,j,k),a=[]},e)}}}();return{sendGeoT:function(b){var a=[G.curProto(),d,"/t?",b].join("");aK(a)},sendGeoPV:function(){aK(s("b"))},sendRapidNoDelay:function(j,g,k,c){if(q.yql_enabled){m(j,g,k,c)}else{var b=null;k&&(b=new am(k)),aK(s(g?"b":"p",b))}},sendRapid:function(c,a,g,b){aL(c,a,g,b)},sendRefreshedContent:n,sendYWAEvent:function(b){var a=null,g=null,c=b.name;q.ywa_action_map&&c&&(a=p(q.ywa_action_map,c)),null!==a&&(q.ywa_outcome_map&&b.outcome&&(g=p(q.ywa_outcome_map,b.outcome)),aK(aR("e",a,g,null,b.data)))},sendULTEvent:function(c,b){var g={};c&&c.data&&(g=c.data);var a=s("p",new am(g),b||0);c.type&&(a+="&_V="+c.type.spaceidPrefix),aK(a)},sendDwell:function(a){this.sendULTEvent(a,a.data.s)},sendEvents:function(a){q.USE_RAPID&&this.sendULTEvent(a),q.ywa&&this.sendYWAEvent(a)},sendClick:function(o){var C=null,b="",x="",A=null,w=!1,i=null;if(q.USE_RAPID&&(b=h(o)),q.ywa){var D=o.data,r=o.targetElement,k={18:D.sec,19:D.slk,20:D._p};A=r?aQ(r):p(q.ywa_outcome_map,o.outcome),q.ywa_cf_override&&aN(D,k),x=aR("c",0,A,k)}if(q.async_all_clicks||!o.synch){return b&&aK(b),x&&aK(x),void 0}if(G.prevDef(o.event),C=function(){if(!w){w=!0;var a=o.targetElement.href;o.hasTargetTop?top.document.location=a:document.location=a}},q.USE_RAPID){if(q.ywa){var g=new Image,y=new Image,j=0;g.onload=g.onerror=g.onabort=y.onload=y.onerror=y.onabort=function(){2===++j&&(clearTimeout(i),C())},g.src=b,y.src=x,i=setTimeout(C,q.click_timeout),setTimeout(function(){g=null,y=null},100000)}else{aK(b,0,0,C)}}else{q.ywa&&aK(x,0,0,C)}},sendYWAPV:function(i){function c(){g[0].removeChild(b)}var k=aR("p",0,0,0,0,i),g=document.getElementsByTagName("head"),j="true";if(0!==g.length){var b=G.make("script",{defer:j,async:j,type:"text/javascript",src:k});G.isIE?b.onreadystatechange=function(){var a=this.readyState;("loaded"===a||"complete"===a)&&(b.onload=b.onreadystatechange=null,c())}:G.isWebkit?b.addEventListener("load",c):b.onload=c,g[0].appendChild(b)}},sendInternalSearch:function(b,a){b=b||"",G.isNum(a)||(a=0);var g={isk:b,isr:a},c=aR("e","INTERNAL_SEARCH",null,null,null,null,g);aK(c)},sendYWAECommerce:function(k,j){var w={},r={PRODUCT_VIEW:1,ADD_TO_CART:1,CANCELLED_SALE:1,PENDING_SALE:1,SALE:1},g={amount:"xa",orderId:"oc",tax:"xt",shipping:"xs",discount:"xd",sku:"p",units:"q",amounts:"r"};if(!(k in r)){return ax("invalid YWA ecommerce action: "+k),void 0}for(var i in j){if(G.hasOwn(j,i)&&i in g){var v=g[i];w[v]=j[i]}}"SALE"===k&&(k=1);var b=aR("e",k,null,null,null,null,w);aK(b)}}}function au(h,f,j,g){g.setAttribute(q.anc_pos_attr,j);var d=G.getLT(g,h),b=null;d&&""!==d?b=al(g):d="_ELINK_";var c={sec:f,_p:j,slk:d};return null!==b&&G.aug(c,b.getAll()),c}function ae(){var a={};return{addModule:function(b,c){a[G.norm(b)]=c},addModules:function(g){var d=G.isArr(g),j=[];d||G.isStr(g)&&(g=Array(g),d=!0);for(var f in g){if(G.hasOwn(g,f)){var h=d?g[f]:f,c=G.trim(g[f]);if(this.exists(h)){ax('addModules() called with prev processed id:"'+h+'"')}else{var b=Z(c,h);b&&(this.addModule(h,b),j.push(b))}}}return j},getModules:function(){return a},refreshModule:function(c,f,d,e){var b=a[G.norm(c)];b?b.refreshModule(c,f,d,e):ax("refreshModule called on unknown section: "+b)},removeModule:function(b){var c=a[G.norm(b)];c&&(c.removeHandlers(),delete a[b])},destroy:function(){for(var b in a){G.hasOwn(a,b)&&this.removeModule(b)}a={}},exists:function(b){return a[G.norm(b)]}}}function az(b,a){return G.hasClass(b,"rapid_track_href")?"href":G.hasClass(b,"rapid_track_text")?"text":G.hasClass(b,"rapid_track_title")?"title":G.hasClass(b,"rapid_track_id")?"id":a}function ab(a){return"input"===a.nodeName.toLowerCase()&&"submit"===G.getAttribute(a,"type")}function ap(b,a){var c=aa(b,a);z=c,c&&aq.sendClick(c)}function X(c,a,d){var b=G.getAttribute;return a.target&&"_blank"===a.target.toLowerCase()||2===c.which||4===c.button||c.altKey||c.ctrlKey||c.shiftKey||c.metaKey||"on"===b(a,"data-nofollow")||b(a,"href")&&"javascript:"===b(a,"href").substr(0,11).toLowerCase()||G.hasClass(a,q.nofollow_classname)||G.hasClass(d,q.nofollow_classname)}function B(c,a,f,b){f=f||{};var d=null;return c?(d=YAHOO.i13n.EventTypes.getEventByName(c),f._E=d.getEventName(),a=f._E):f._E=a||"_",b&&(f.outcm=b),{type:d,name:a,data:f,outcome:b}}function aa(p,A){p=p||event;for(var g=G.getTarget(p),b="button",k="input",x="",y=!1,w=null;g&&(x=g.nodeName.toLowerCase())&&"a"!==x&&x!==b&&!ab(g)&&!G.hasClass(g,q.nonanchor_track_class);){g=g.parentNode}if(!g||G.hasClass(g,q.no_click_listen)){return 0}if(G.hasClass(g,q.nonanchor_track_class)){w={pos:0,sec:A.moduleName,slk:"_"};var j=al(g,1);j&&G.aug(w,j.getAll())}else{var C=G.getAttribute(g,q.anc_pos_attr);if(w=A.getLinkAtPos(C),!w){return 0}x===k||x===b||X(p,g,A.moduleElement)||(y=!0)}if(!w.tar){var v=G.getAttribute(g,"href");v&&(w.tar=G.extDomain(v)),v&&w.tar||(w.tar=G.extDomain(window.document.location+""))}var o=A.moduleYLK;if(o){var h=o.getAll();G.aug(w,h,function(a){return !(a in w)})}return w.A_xy=G.xy(p),w.A_sr=G.sr(),{data:w,event:p,moduleElement:A.moduleElement,targetElement:g,synch:y,hasTargetTop:g&&g.target&&"_top"===g.target.toLowerCase()}}function J(d,b,g,c,f){var a={};return G.aug(a,c),a.sec=d,a.slk=b,a._p=g,{data:a,outcome:f,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function H(k,x,g){x||(x=document);for(var b=k.split(","),f=[],j=0,v=b.length;v>j;j++){for(var w=x.getElementsByTagName(b[j]),p=0,h=w.length;h>p;p++){var y=w[p];(!g||g.call(0,y))&&f.push(y)}}var m=f[0];return m?(m.sourceIndex?f.sort(function(c,a){return c.sourceIndex-a.sourceIndex}):m.compareDocumentPosition&&f.sort(function(c,a){return 3-(6&c.compareDocumentPosition(a))}),f):[]}function Z(p,C){function f(e,m){var h=[];m=m||1;for(var l=0,d=e.length;d>l;l++){var c=au(j,p,m++,e[l]);A.push(c),h.push(c)}return h}var b=document.getElementById(C),k="a,button,input";if(!b){return ai("Specified module not in DOM: "+C),null}var x=al(b),A=[],w=H(k,b),j=az(b,q.lt_attr),s=w.length,g=G.getAttribute(b,q.track_type);f(w);var y={moduleYLK:x,links:A,moduleName:p,trackType:g,moduleElement:b,refreshModule:function(m,i,l,n){var d=H(k,document.getElementById(m),function(a){return !G.getAttribute(a,q.anc_pos_attr)});if(i===!0||d.length>0){var h=f(d,s+1);if(s+=d.length,q.USE_RAPID||n.event){var v={};G.aug(v,this),v.links=h,(i===!0||l)&&aq.sendRefreshedContent(v,i,n)}}else{G.ldbg&&av("refreshModule("+m+") - no new links.")}i===!0&&q.ywa&&aq.sendYWAPV()},removeHandlers:function(){G.rmEvent(b,"click",o)},getLinkAtPos:function(a){return a>A.length?null:A[a-1]},identifier:C},o=function(a){ap(a,y)};return G.addEvent(b,"click",o),y}function W(c,a){if(q.ldbg&&av("beaconPageview called, pp="+G.fData(c)),a&&ay(),q.USE_RAPID&&aq.sendRapidNoDelay([],!0,c),q.ywa){var b=am.makeFromPP(q.keys);b.absorb(c),aq.sendYWAPV(b.getAll())}}function Q(){af(),q.ldbg&&av("tracked_mods: "+G.fData(q.tracked_mods));var a=K.addModules(q.tracked_mods);q.USE_RAPID&&aq.sendRapidNoDelay(a,1==q.client_only),q.ywa&&aq.sendYWAPV()}function ad(A){var M=navigator.userAgent,j=Object.prototype,b=M.match(/MSIE\s[^;]*/)?1:0,g=/KHTML/.test(M)?1:0,w=null!==M.match(/(iPhone|iPad|iPod)/gi),D=(M.indexOf("android")>-1,w&&null!==M.match(/AppleWebKit/)),L=RegExp(/\ufeff|\uffef|[\u0000-\u001f]/g),C=RegExp(/[\u007f-\u00a0]|\s{2,}/g),s="http://",y="https://",k="class",I=" ",x=300,d=-1,E="https:"===window.location.protocol;return b&&(d=parseFloat(navigator.appVersion.split("MSIE")[1])),{ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:A.ylk_kv_delim||":",ylk_pair_delim:A.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:b,isIOSSafari:D,isWebkit:g,ieV:d,hasOwn:function(c,a){return j.hasOwnProperty.call(c,a)},enc:encodeURIComponent,dec:decodeURIComponent,curProto:function(){return E?y:s},isSecure:function(){return E},strip:function(m){for(var h={"/":"P",";":"1","?":"P","&":"1","#":"P"},u={url:m,clean:"",cookie:"",keys:[]},l=0;-1!==m.indexOf("_yl",l);){var p=m.indexOf("_yl",l);if(p>l&&(u.clean+=m.slice(l,p-1)),l=p+3,h[m.charAt(p-1)]&&"="===m.charAt(p+4)){u.ult=1;var f="_yl"+m.charAt(p+3),c="";for(p+=5;m.length>p&&!h[m.charAt(p)];p++){c+=m.charAt(p)}u.keys.push(f),u[f]=c,"_ylv"!==f&&(u.cookie+="&"+f+"="+c),h[m.charAt(p)]&&"P"===h[m.charAt(p)]&&(u.clean+=m.charAt(p)),l=p+1}else{u.clean+=m.slice(p-1,l)}}return u.ult&&(u.cookie=u.cookie.substr(1),u.clean+=m.substr(l),"0"===u._ylv),u},prevDef:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},appBodyEl:function(a){document.body.appendChild(a)},rmBodyEl:function(a){document.body.removeChild(a)},sa:function(c,a,f){c.setAttribute(a,f)},make:function(f,a){var h=document.createElement(f);if(a&&this.isObj(a)){for(var c in a){this.sa(h,c,a[c])}}return h},getXHR:function(){function c(){for(var h=!1,l=a.length,f=0;l>f;f++){try{h=a[f]()}catch(i){continue}break}return h}var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return c()},hasLS:function(){try{return"localStorage" in window&&null!==window.localStorage}catch(a){return !1}},hasCORS:function(){return b&&10>d?!1:"withCredentials" in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest?!0:!1},hasWorkers:function(){return !!window.Worker},clearCookie:function(a){document.cookie=a+"= ; path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain=.yahoo.com;"},uniqConcat:function(h,c,m){function f(v){for(var o=0,p=v.length;p>o;o++){var i=v[o];if(i){var n=m(i);a[n]||(a[n]=1,l.push(i))}}}var l=[],a={};return f(h),f(c),l},trim:function(a){return a?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a},extDomain:function(c){var a=c.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return a&&a[1]},getAttribute:function(c,a){var f="";return document.documentElement.hasAttribute||a!==k||(a="className"),c&&c.getAttribute&&(f=c.getAttribute(a,2)),f},isDate:function(a){return"[object Date]"===j.toString.call(a)},isArr:function(a){return"[object Array]"===j.toString.apply(a)},isStr:function(a){return"string"==typeof a},isNum:function(a){return"number"==typeof a&&isFinite(a)},isNumeric:function(a){return a-0==a&&(a+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(a){return a&&"object"==typeof a},rTN:function(c){try{if(c&&3===c.nodeType){return c.parentNode}}catch(a){ax(a)}return c},getTarget:function(c){var a=c.target||c.srcElement;return this.rTN(a)},addEvent:function(c,a,f){c.addEventListener?c.addEventListener(a,f,!1):c.attachEvent&&c.attachEvent("on"+a,f)},rmEvent:function(c,a,f){c.removeEventListener?c.removeEventListener(a,f,!1):c.detachEvent&&c.detachEvent("on"+a,f)},aug:function(f,a,h){if(a){for(var c in a){if(this.hasOwn(a,c)){if(h&&!h.call(null,c)){continue}f[c]=a[c]}}}},rmProto:function(a){return a?a.substr(0,7)===s?a.substr(7,a.length):a.substr(0,8)===y?a.substr(8,a.length):a:""},norm:function(a){return null===a?"":(a=""+a,this.trim(a.replace(C," ").replace(L,"")))},_hasClass:function(f,a){var h,c=!1;return f&&a&&(h=this.getAttribute(f,k)||"",c=a.exec?a.test(h):a&&(I+h+I).indexOf(I+a+I)>-1),c},hasClass:function(f,a){if(this.isArr(a)){for(var h=0,c=a.length;c>h;h++){if(this._hasClass(f,a[h])){return !0}}return !1}return this.isStr(a)?this._hasClass(f,a):!1},quote:function(h){var c=/["\\\x00-\x1f\x7f-\x9f]/g,m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f='"',l='"';if(h.match(c)){var a=h.replace(c,function(n){var i=m[n];return"string"==typeof i?i:(i=n.charCodeAt(),"\\u00"+Math.floor(i/16).toString(16)+(n%16).toString(16))});return f+a+f}return l+h+l},sfy:function(Y){if(!Y&&""!==Y){return{}}var aH,O=typeof Y;if("undefined"===O){return"undefined"}if("number"===O||"boolean"===O){return""+Y}if("string"===O){return this.quote(Y)}if("function"==typeof Y.toJSON){return this.sfy(Y.toJSON())}if(this.isDate(Y)){var p=Y.getUTCMonth()+1,N=Y.getUTCDate(),S=Y.getUTCFullYear(),aE=Y.getUTCHours(),aG=Y.getUTCMinutes(),aD=Y.getUTCSeconds(),R=Y.getUTCMilliseconds();return 10>p&&(p="0"+p),10>N&&(N="0"+N),10>aE&&(aE="0"+aE),10>aG&&(aG="0"+aG),10>aD&&(aD="0"+aD),100>R&&(R="0"+R),10>R&&(R="0"+R),'"'+S+"-"+p+"-"+N+"T"+aE+":"+aG+":"+aD+"."+R+'Z"'}if(aH=[],this.isArr(Y)){for(var aI=0,aC=Y.length;aC>aI;aI++){aH.push(this.sfy(Y[aI]))}return"["+aH.join(",")+"]"}if("object"===O){for(var V in Y){if(this.hasOwn(Y,V)){var P=typeof V,aF=null;if("string"===P){aF=this.quote(V)}else{if("number"!==P){continue}aF='"'+V+'"'}if(P=typeof Y[V],"function"!==P&&"undefined"!==P){var T="";T=null===Y[V]?'""':0===Y[V]?0:this.sfy(Y[V]),aH.push(aF+":"+T)}}}return"{"+aH.join(",")+"}"}},toJSON:function(){var a=null;return function(c){return a||(a="object"==typeof JSON&&JSON.stringify&&6!==d&&7!==d&&8!==d?JSON.stringify:this.sfy),a.call(this,c)}}(),getLinkContent:function(f){for(var a,h=0,c="";(a=f.childNodes[h])&&a;h++){1===a.nodeType&&("img"===a.nodeName.toLowerCase()&&(c+=(this.getAttribute(a,"alt")||"")+" "),c+=this.getLinkContent(a))}return c},fData:function(a){return this.isStr(a)?a:this.toJSON(a)},getLT:function(c,a){if(!c){return"_"}var f="";return a=a.toLowerCase(),f="input"===c.nodeName.toLowerCase()?this.getAttribute(c,"value"):"text"===a?g?c.textContent:c.innerText?c.innerText:c.textContent:"href"===a?this.rmProto(this.getAttribute(c,"href")):this.getAttribute(c,a)||"",f=this.norm(f),""===f&&(f=this.norm(this.getLinkContent(c)),f||(f=this.norm(this.rmProto(this.getAttribute(c,"href"))))),""===f?"_":f},clref:function(c){if(0!==c.indexOf(s)&&0!==c.indexOf(y)){return""}var a=this.strip(c);return a.clean||a.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(a){return screen?screen.width+(a?a:",")+screen.height:""},xy:function(f){function c(){var m=document.documentElement,i=document.body;return m&&(m.scrollTop||m.scrollLeft)?[m.scrollTop,m.scrollLeft]:i?[i.scrollTop,i.scrollLeft]:[0,0]}var l=null,h=f.pageX,a=f.pageY;return b&&(l=c()),h||0===h||(h=f.clientX||0,b&&(h+=l[1])),a||0===a||(a=f.clientY||0,b&&(a+=l[0])),h+","+a},hasCC:function(f){for(var a=0,h=f.length;h>a;a++){var c=f.charCodeAt(a);if(32>c||"="===c){return !0}}return !1},isValidPair:function(c,a){return c.length>8||a.length>x?(ai("Invalid key/value pair ("+c+"="+a+") Size must be < 8/300 respectively."),!1):!0},ser:function(p,l){if(!p){return""}void 0===typeof l&&(l=!0);var N=[],m="";for(var v in p){if(this.hasOwn(p,v)){var h=v,c=p[v];if(null===h||null===c){continue}if(h+="",c+="",!this.isValidPair(h,c)){continue}if(!this.hasCC(h)&&!this.hasCC(c)){m="",c=this.trim(c),""!==c&&" "!==c||!l||(c="_");try{m=this.enc(h+""+c)}catch(f){m="_ERR_ENCODE_",ax(f)}N.push(m)}}}return N.join(this.cd)},rand:function(){for(var f=0,a="",h="";16>f++;){var c=Math.floor(62*Math.random());h=10>c?c:String.fromCharCode(36>c?c+55:c+61),a+=h}return a},tms:function(){return +new Date},isResCF:function(c){var a={14:1,18:1,19:1,20:1};return a[c]}}}("undefined"==typeof console||console.log===void 0)&&(console={log:function(){}}),console.error===void 0&&(console.error=console.log),console.warn===void 0&&(console.warn=console.log),ah.prototype={ser:function(){return G.ser(this.map)},set:function(b,a){var c=a?G.norm(a):a;(void 0===c||null===c)&&(c=""),null!==c&&G.isStr(c)&&(c=c.replace(/\\/g,"\\\\")),G.isValidPair(b,c)&&(this.map[G.norm(b)]=c,this.count++)},get:function(a){return this.map[a]},getAll:function(){return this.map},absorb:function(b){if(b&&G.isObj(b)){for(var a in b){G.hasOwn(b,a)&&this.set(a,b[a])}}},getSize:function(){return this.count}},am.prototype=new ah,am.prototype.constructor=ah,aj.prototype=new ah,aj.prototype.constructor=ah,am.makeFromPP=function(b){var a=new am;return b&&a.absorb(b.getAll()),a};var F=new am,G=ad(aw),K=new ae,U={none:0,gzip:1,lzw:2,deflate:3};an.prototype={getYWAFPC:function(){if(!q.ywa){return null}var a=this.cookieMap["fpc"+q.ywa.project_id];return a?a:null},getCookieByName:function(a){return this.cookieMap[a]}};var q=ag(aw),aq=ac(),z=null;return Q(),{init:function(){},beaconEvent:function(c,a,d){q.ldbg&&av('beaconEvent: event="'+c+'" data='+G.fData(a)+" outcome="+d);var b=B(0,c,a,d);aq.sendEvents(b)},beaconRichView:function(b,a){q.ldbg&&av("beaconRichView: outcome="+a);var c=B("richview","",b,a);aq.sendEvents(c)},beaconClick:function(c,a,f,b,d){!b&&d&&(b={}),d&&(b.outcm=d),aq.sendClick(J(c,a,f,b,d))},addModules:function(c,a,f){q.ldbg&&av("addModules() called: mods="+G.fData(c)+" isPage: "+a);var b={A_am:1};if(f=f||{},!q.yql_enabled){return a?W(b,!1):f.event&&this.beaconRichView(b,f.event.outcome),void 0}f&&f.event&&a&&(ax("Cannot track event type and pageview at same time."),f.event=null);var d=K.addModules(c);(0!==d.length||f.event)&&((q.USE_RAPID||f.event)&&(a||f.event?(f.event&&f.event.data&&G.aug(b,f.event.data),aq.sendRapidNoDelay(d,a,b,f)):aq.sendRapid(d,a,b,f)),a===!0&&q.ywa&&aq.sendYWAPV())},addModulesAsRichView:function(c,a){var d=B("richview","",{},a),b=!0;this.addModules(c,!1,{event:d}),q.yql_enabled||(b=!1),q.ywa&&b&&aq.sendYWAEvent(d)},refreshModule:function(c,a,f,b){if(q.ldbg&&av("refreshModule called: mod="+c+" isPV: "+a+" sendLinks: "+f+" options: "+G.fData(b)),b=b||{},!q.yql_enabled){return a?W({},!1):b.event&&this.beaconRichView({},b.event.outcome),void 0}var d=f===!1?!1:!0;a&&b&&b.event&&(b.event=null),K.refreshModule(c,a,d,b)},refreshModuleAsRichView:function(c,a){var d=B("richview","",{},a),b=!0;this.refreshModule(c,!1,!0,{event:d}),q.yql_enabled||(b=!1),q.ywa&&b&&aq.sendYWAEvent(d)},removeModule:function(a){K.removeModule(a)},isModuleTracked:function(a){return q.ldbg&&av("isTracked called: "+a),K&&void 0!==K.exists(a)},destroy:function(){av("destroy called"),K.destroy()},reInit:function(a){return q.ldbg&&av("reInit called with: "+G.fData(a)),a=a||{},a.spaceid?(q=ag(a),G=ad(a),void 0):(ax("Invalid spid in reInit config: "+G.fData(a)),void 0)},beaconPageview:function(a){W(a,!0)},beaconECommerce:function(b,a){q.ywa&&aq.sendYWAECommerce(b,a)},beaconInternalSearch:function(b,a){q.ywa&&aq.sendInternalSearch(b,a)},getCurrentSID:function(){return F.get("A_sid")},notifyHistoryPushStateCalled:function(){browserEventManager.historyStateChanged()}}};YUI.add("rapid-tracker",function(d){var c=false,a;var b={ok:c,_queue:[],init:function(h){var j,f,g;if(!c){d.one("body").on("click",function(l){var i=l.target.ancestor(".ywa-track",true);if(i){b.beacon(i.getAttribute("data-ywa-name"))}})}try{a=new (YAHOO.i13n.Rapid||YAHOO.i13n.Track)(h);a.init();d.mix(this,a);for(j=0,f=this._queue.length;j<f;j++){g=this._queue.shift();this.beaconEvent(g.key,g.data)}c=true}catch(k){c=false}},beacon:function(f,e){if(!e){e=""}if(!a){this._queue.push({key:f,data:e})}else{a.beaconEvent(f,e)}}};d.rapidTracker=b},"1.0.0");YUI.add("nav-selecta-rapid",function(b){var a={search:/\/search\/\?q=.+/i,search_my_photos:/\/search\/\?w=[0-9]+\@N[0-9]+\&q=.+/i,search_my_contacts:/\/search\/\?w=contacts\&q=.+/i,search_groups:/\/search\/groups\/\?q=.+/i,search_users:/\/search\/people\/\?m=names&q=.+/i,contact_photostream:/^\/photos\/[a-z]+\/?/i};b.on("NavSelecta:beforeNavigatingAway",function(d){var c;if(d.indexOf("?")===-1&&d.indexOf("/photos/")!==0){b.rapidTracker.beaconClick("searchform",d);return}if(d.indexOf("/photos/me")===0){b.rapidTracker.beaconClick("searchform","my_photostream");return}for(c in a){if(a.hasOwnProperty(c)){if(d.match(a[c])){b.rapidTracker.beaconClick("searchform",c);return}}}})},"0.0.1",{requires:F.config.modules["nav-selecta-rapid"].requires||[]});